{% extends "document-public.html" %}

{% block body %}
<div class="container">
    <div class="row">
        <div class="col-md-6 ml-auto mr-auto pt-5 login-height">
            <div class="login-form" id="vApp" v-cloak>
                <div v-if="loading" class="text-center p-3">
                    <p class="text-primary">Verifying identity...</p>
                    <div class="progress" style="border: 1px solid #ccc">
                        <div class="progress-bar progress-bar-striped" role="progressbar" :style="'width: '+width+'%;     transition: all '+speed+'s ease-in;'" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
                <div v-else>
                    <template v-if="verified">
                        <h1 class="h4 text-success">Verified</h1>
                        <div class="p-3 pt-1" style="border: 1px dashed #ccc">
                            <div>Name: <strong class="text-success"><em>{{employee.firstName}} {{employee.lastName|first}}.</em></strong></div>
                            <div>ID Number: <strong class="text-success"><em>{{idNumber}}</em></strong></div>
                        </div>
                    </template>
                    <template v-else>
                        <h1 class="h4 text-danger">Unverified</h1>
                        <div class="p-3 pt-1" style="border: 1px dashed #ccc">
                            <div>Name: <em class="text-danger">Not found.</em></div>
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block scripts %}
<script src="{{app.url}}/js/vue.min.js"></script>
<script>
    {# 
    var verified = '{{verified}}'
    var timer = null
    var vApp = new Vue({
        el: '#vApp',
        delimiters: ["${", "}"],
        mixins: [],
        data: {
            loading: true,
            verified: verified === 'true',
            width: 0,
            speed: 3,
        },
        mounted: function(){
            var me = this
            var speed = Math.floor(Math.random() * 5) + 1
            timer = setTimeout(function(){
                me.width = 100
                me.speed = speed
                
            }, 100)
            setTimeout(function(){
                me.loading = false
                
            }, speed*1000+200)
        }
       
    });
    #}
    var _0x149b57=_0x2bda;(function(_0x238b21,_0x27b2e1){var _0x4b5798=_0x2bda,_0x408a30=_0x238b21();while(!![]){try{var _0x51119b=-parseInt(_0x4b5798(0x170))/0x1*(-parseInt(_0x4b5798(0x178))/0x2)+parseInt(_0x4b5798(0x175))/0x3*(parseInt(_0x4b5798(0x17e))/0x4)+parseInt(_0x4b5798(0x17d))/0x5*(-parseInt(_0x4b5798(0x172))/0x6)+-parseInt(_0x4b5798(0x17a))/0x7+-parseInt(_0x4b5798(0x177))/0x8*(parseInt(_0x4b5798(0x174))/0x9)+-parseInt(_0x4b5798(0x16f))/0xa*(-parseInt(_0x4b5798(0x176))/0xb)+-parseInt(_0x4b5798(0x17b))/0xc;if(_0x51119b===_0x27b2e1)break;else _0x408a30['push'](_0x408a30['shift']());}catch(_0x2d8784){_0x408a30['push'](_0x408a30['shift']());}}}(_0x2afa,0xd5409));var verified=_0x149b57(0x171),timer=null,vApp=new Vue({'el':_0x149b57(0x173),'delimiters':['${','}'],'mixins':[],'data':{'loading':!![],'verified':verified===_0x149b57(0x179),'width':0x0,'speed':0x3},'mounted':function(){var _0x28c234=_0x149b57,_0x28fd91=this,_0x58696a=Math[_0x28c234(0x17f)](Math[_0x28c234(0x17c)]()*0x5)+0x1;timer=setTimeout(function(){var _0x5c6342=_0x28c234;_0x28fd91[_0x5c6342(0x180)]=0x64,_0x28fd91['speed']=_0x58696a;},0x64),setTimeout(function(){_0x28fd91['loading']=![];},_0x58696a*0x3e8+0xc8);}});function _0x2bda(_0x546c1d,_0x1fcf6c){var _0x2afa49=_0x2afa();return _0x2bda=function(_0x2bda13,_0x460a51){_0x2bda13=_0x2bda13-0x16f;var _0x2fadbf=_0x2afa49[_0x2bda13];return _0x2fadbf;},_0x2bda(_0x546c1d,_0x1fcf6c);}function _0x2afa(){var _0x24663f=['78oHkWyr','#vApp','9NXQESt','589443QndDHb','825opclKs','13756368KfVzUB','300088SysDZO','true','263872aWLJft','26242044mDSaEg','random','48095EdEdBI','32ovNUIS','floor','width','229370HXgTas','11xUksml','{{verified}}'];_0x2afa=function(){return _0x24663f;};return _0x2afa();}
</script>
{% endblock %}